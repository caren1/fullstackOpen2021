{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/PersonList.js","service/persons.js","App.js","index.js"],"names":["Filter","filter","filterChangeHandler","value","onChange","Notification","message","console","log","className","type","PersonForm","personAddHandler","newName","phoneNumber","nameChangeHandler","phoneChangeHandler","onSubmit","minLength","PersonList","persons","personDeleteHandler","map","person","name","number","onClick","id","baseUrl","axios","get","then","response","data","post","delete","updatedPerson","put","App","useState","setPersons","setNewName","setPhoneNumber","setFilter","setMessage","useEffect","personService","returnedPersons","personsToShow","toLowerCase","includes","setOperationMessage","timer","setTimeout","event","target","preventDefault","existingPerson","find","window","confirm","returnedPerson","catch","error","newPerson","length","concat","personToDelete","filteredPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.472244de.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filter, filterChangeHandler }) => {\r\n    return (\r\n        <div>\r\n            Filter shown with: <input value={filter} onChange={filterChangeHandler}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    \r\n    console.log(message);\r\n\r\n    if (message === null){\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className={message.type === 'error' ? 'error' : 'success'}>\r\n            {message.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ personAddHandler, newName, phoneNumber, nameChangeHandler, phoneChangeHandler}) => {\r\n    return (\r\n        <form onSubmit={personAddHandler}>\r\n        <div>\r\n          name: <input value={newName} onChange={nameChangeHandler}/>\r\n        </div>\r\n        <div>\r\n          phone: <input value={phoneNumber} onChange={phoneChangeHandler} minLength={3}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst PersonList = ({ persons, personDeleteHandler }) => {\r\n\r\n  if (!persons) return <h3>Persons list is currently empty.</h3>\r\n\r\n    return (\r\n        <>\r\n        {persons.map((person) => (\r\n        <p key={person.id}>{person.name} - {person.number}\r\n         <span>\r\n           <button onClick={() => personDeleteHandler(person.id)}>delete</button>\r\n          </span>\r\n        </p>\r\n      ))}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PersonList\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAllPersons = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then((response) => response.data);\r\n}\r\n\r\n const savePerson = (person) => {\r\n     const request = axios.post(baseUrl, person)\r\n     return request.then((response) => response.data);\r\n }\r\n\r\n const removePerson = (id) => {\r\n     const request = axios.delete(`${baseUrl}/${id}`);\r\n     return request.then((response) => console.log(response.data));\r\n }\r\n\r\n const updatePerson = (id, updatedPerson) => {\r\n     const request = axios.put(`${baseUrl}/${id}`, updatedPerson);\r\n     return request.then((response) => response.data);\r\n }\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAllPersons, savePerson, removePerson, updatePerson }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport PersonList from './components/PersonList'\n\nimport personService from './service/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ phoneNumber, setPhoneNumber ] = useState('');\n  const [ filter, setFilter ] = useState('');\n  const [ message, setMessage ] = useState(null);\n\n  useEffect(() => {\n    personService\n    .getAllPersons()\n    .then((returnedPersons) => {\n      setPersons(returnedPersons);\n    })\n  }, [])\n\n  const onNewPersonAdd =(event) => {\n    event.preventDefault();\n    const existingPerson = persons.find((person) => person.name.toLowerCase() === newName.toLowerCase())\n\n    if (!existingPerson) {\n      const newPerson = { id: persons.length + 1, name: newName, number: phoneNumber }\n      personService\n      .savePerson(newPerson)\n      .then((returnedPerson) => {\n        setOperationMessage(`Successfully added ${returnedPerson.name}`, 'success', 3000);\n        setPersons(persons.concat(returnedPerson))\n      })\n      .catch((error) => {\n        setOperationMessage(`Couldn't add  ${newName.name}`, 'error', 3000);\n      })\n    } else {\n      if (window.confirm(`${newName} is already added to phonebook.. 😏 Do you want to replace the old number with a new one?`)){\n        const updatedPerson = {...existingPerson, number: phoneNumber }\n        personService\n        .updatePerson(existingPerson.id, updatedPerson)\n        .then((returnedPerson) => {\n          setOperationMessage(`Successfully updated ${returnedPerson.name}'s number`, 'success', 3000);\n          setPersons(persons.map((person) => person.id !== returnedPerson.id ? person : returnedPerson))\n        })\n        .catch((error) => {\n          setOperationMessage(`Couldnt update ${existingPerson.name}'s number`, 'error', 3000);\n        })\n      }\n    }\n    setNewName('');\n    setPhoneNumber('');\n  }\n\n  const onPersonDelete = (id) => {\n    let personToDelete = persons.find((person) => person.id === id);\n\n    if (window.confirm(`Do you really want to delete ${personToDelete.name}?`)){\n      personService\n      .removePerson(id)\n      .then(() => {\n        const filteredPersons = persons.filter((person) => person.id !== id);\n        setOperationMessage(`Successfully deleted ${personToDelete.name}`, 'success', 3000);\n        setPersons(filteredPersons);\n      })\n      .catch((error) => {\n        console.log(`Couldnt delete the specific person with id ${id}`, error);\n        setOperationMessage(`Couldnt delete the specific person with id ${id}`, 'error', 3000);\n      })\n    }\n  }\n\n  const onFilterChange = (event) => setFilter(event.target.value);\n  const onNameChange = (event) => setNewName(event.target.value);\n  const onPhoneChange = (event) => setPhoneNumber(event.target.value);\n  const personsToShow = filter ? persons.filter((person) => person.name.toLowerCase().includes(filter.toLowerCase())) : persons;\n  const setOperationMessage = (message, type, timer) => {\n    const operationMessage = { message: message, type: type }\n    setMessage(operationMessage)\n    setTimeout(() => {\n      setMessage(null);\n    }, timer);\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {message && <Notification message={message}/>}\n      <Filter filter={filter} filterChangeHandler={onFilterChange}/>\n      <hr />\n      <h3>Add a new person to phonebook: </h3>\n      <PersonForm \n        personAddHandler={onNewPersonAdd} \n        newName={newName} \n        phoneNumber={phoneNumber} \n        nameChangeHandler={onNameChange} \n        phoneChangeHandler={onPhoneChange}/>\n      <hr />\n      <h2>Numbers</h2>\n      <PersonList persons={personsToShow} personDeleteHandler={onPersonDelete}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}